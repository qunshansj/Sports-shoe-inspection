# è¿åŠ¨é‹æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunmasj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://github.com/qunshansj/good)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€è¿åŠ¨å¥èº«æ–‡åŒ–çš„æ™®åŠå’Œäººä»¬å¯¹å¥åº·ç”Ÿæ´»æ–¹å¼çš„è¿½æ±‚ï¼Œè¿åŠ¨é‹ä½œä¸ºè¿åŠ¨è£…å¤‡çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå…¶å¸‚åœºéœ€æ±‚é€å¹´æ”€å‡ã€‚è¿åŠ¨é‹ä¸ä»…åœ¨åŠŸèƒ½æ€§ä¸Šæ»¡è¶³äº†è¿åŠ¨çˆ±å¥½è€…çš„éœ€æ±‚ï¼Œæ›´åœ¨æ—¶å°šå’Œä¸ªæ€§åŒ–æ–¹é¢å—åˆ°å¹¿æ³›å…³æ³¨ã€‚å› æ­¤ï¼Œå¦‚ä½•é«˜æ•ˆã€å‡†ç¡®åœ°è¯†åˆ«å’Œåˆ†ç±»è¿åŠ¨é‹ï¼Œæˆä¸ºäº†è®¡ç®—æœºè§†è§‰é¢†åŸŸä¸€ä¸ªé‡è¦çš„ç ”ç©¶æ–¹å‘ã€‚ä¼ ç»Ÿçš„è¿åŠ¨é‹æ£€æµ‹æ–¹æ³•å¤šä¾èµ–äºäººå·¥æ ‡æ³¨å’Œç»éªŒåˆ¤æ–­ï¼Œæ•ˆç‡ä½ä¸‹ä¸”å®¹æ˜“å—åˆ°ä¸»è§‚å› ç´ çš„å½±å“ã€‚éšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼ŒåŸºäºå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰çš„ç›®æ ‡æ£€æµ‹ç®—æ³•é€æ¸æˆä¸ºè§£å†³è¿™ä¸€é—®é¢˜çš„æœ‰æ•ˆå·¥å…·ã€‚

YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—ç®—æ³•å› å…¶é«˜æ•ˆæ€§å’Œå®æ—¶æ€§ï¼Œå·²åœ¨ç›®æ ‡æ£€æµ‹é¢†åŸŸå–å¾—äº†æ˜¾è‘—æˆæœã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿›ä¸€æ­¥æå‡äº†æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ï¼Œå°¤å…¶åœ¨å¤æ‚åœºæ™¯ä¸‹çš„è¡¨ç°å°¤ä¸ºçªå‡ºã€‚ç„¶è€Œï¼Œç°æœ‰çš„YOLOv8æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸçš„åº”ç”¨ä»å­˜åœ¨ä¸€å®šçš„å±€é™æ€§ï¼Œå°¤å…¶æ˜¯åœ¨è¿åŠ¨é‹è¿™ä¸€ç»†åˆ†å¸‚åœºã€‚ä¸ºæ­¤ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„è¿åŠ¨é‹æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶å…·æœ‰é‡è¦çš„ç†è®ºå’Œå®é™…æ„ä¹‰ã€‚

é¦–å…ˆï¼Œä»ç†è®ºå±‚é¢æ¥çœ‹ï¼Œè¿åŠ¨é‹çš„å¤šæ ·æ€§å’Œå¤æ‚æ€§ä¸ºç›®æ ‡æ£€æµ‹ç®—æ³•æå‡ºäº†æ–°çš„æŒ‘æˆ˜ã€‚ä¸åŒå“ç‰Œã€æ¬¾å¼ã€é¢œè‰²å’Œæè´¨çš„è¿åŠ¨é‹åœ¨å¤–è§‚ä¸Šå·®å¼‚æ˜¾è‘—ï¼Œå¦‚ä½•æé«˜æ¨¡å‹å¯¹è¿™äº›å˜åŒ–çš„é€‚åº”èƒ½åŠ›ï¼Œæ˜¯å½“å‰ç ”ç©¶çš„çƒ­ç‚¹ä¹‹ä¸€ã€‚é€šè¿‡å¯¹YOLOv8è¿›è¡Œæ”¹è¿›ï¼Œå¯ä»¥åœ¨æ¨¡å‹ç»“æ„ã€æŸå¤±å‡½æ•°ã€æ•°æ®å¢å¼ºç­‰æ–¹é¢è¿›è¡Œæ¢ç´¢ï¼Œè¿›è€Œæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚æ­¤å¤–ï¼Œè¿åŠ¨é‹æ£€æµ‹çš„ç ”ç©¶è¿˜å¯ä»¥ä¸ºå…¶ä»–ç‰©å“çš„æ£€æµ‹æä¾›å€Ÿé‰´ï¼Œæ¨åŠ¨ç›®æ ‡æ£€æµ‹æŠ€æœ¯åœ¨æ›´å¤šé¢†åŸŸçš„åº”ç”¨ã€‚

å…¶æ¬¡ï¼Œä»å®é™…åº”ç”¨è§’åº¦æ¥çœ‹ï¼Œè¿åŠ¨é‹æ£€æµ‹ç³»ç»Ÿçš„å¼€å‘å°†ä¸ºç”µå•†å¹³å°ã€æ™ºèƒ½é›¶å”®ã€åº“å­˜ç®¡ç†ç­‰æä¾›æœ‰åŠ›æ”¯æŒã€‚é€šè¿‡è‡ªåŠ¨åŒ–çš„è¿åŠ¨é‹æ£€æµ‹ï¼Œå•†å®¶å¯ä»¥å®æ—¶ç›‘æ§åº“å­˜çŠ¶æ€ï¼Œä¼˜åŒ–ä¾›åº”é“¾ç®¡ç†ï¼Œæé«˜è¿è¥æ•ˆç‡ã€‚åŒæ—¶ï¼Œæ¶ˆè´¹è€…åœ¨é€‰è´­è¿åŠ¨é‹æ—¶ï¼Œå¯ä»¥é€šè¿‡å›¾åƒè¯†åˆ«æŠ€æœ¯å¿«é€Ÿæ‰¾åˆ°ç¬¦åˆè‡ªå·±éœ€æ±‚çš„äº§å“ï¼Œæå‡è´­ç‰©ä½“éªŒã€‚æ­¤å¤–ï¼Œè¯¥ç³»ç»Ÿè¿˜å¯ä»¥ä¸ºè¿åŠ¨é‹çš„çœŸä¼ªé‰´åˆ«æä¾›æŠ€æœ¯æ”¯æŒï¼Œé™ä½å‡å†’ä¼ªåŠ£äº§å“å¯¹å¸‚åœºçš„å†²å‡»ã€‚

æœ€åï¼Œæ•°æ®é›†çš„æ„å»ºå¯¹äºè¿åŠ¨é‹æ£€æµ‹ç³»ç»Ÿçš„æˆåŠŸå®æ–½è‡³å…³é‡è¦ã€‚æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«2154å¼ è¿åŠ¨é‹å›¾åƒï¼Œæ¶µç›–äº†ä¸¤ä¸ªä¸»è¦ç±»åˆ«ï¼Œèƒ½å¤Ÿä¸ºæ¨¡å‹çš„è®­ç»ƒå’ŒéªŒè¯æä¾›ä¸°å¯Œçš„æ ·æœ¬æ”¯æŒã€‚é€šè¿‡å¯¹æ•°æ®é›†çš„æ·±å…¥åˆ†æä¸å¤„ç†ï¼Œå¯ä»¥æŒ–æ˜å‡ºæ›´å¤šçš„ç‰¹å¾ä¿¡æ¯ï¼Œè¿›è€Œæé«˜æ¨¡å‹çš„æ£€æµ‹ç²¾åº¦å’Œæ•ˆç‡ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„è¿åŠ¨é‹æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…åœ¨ç†è®ºä¸Šä¸°å¯Œäº†ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ç ”ç©¶å†…å®¹ï¼Œä¹Ÿåœ¨å®é™…åº”ç”¨ä¸­å…·æœ‰å¹¿æ³›çš„å‰æ™¯å’Œä»·å€¼ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œè¯¥ç³»ç»Ÿæœ‰æœ›åœ¨æœªæ¥çš„æ™ºèƒ½é›¶å”®å’Œç”µå•†é¢†åŸŸå‘æŒ¥é‡è¦ä½œç”¨ï¼Œä¸ºæ¶ˆè´¹è€…å’Œå•†å®¶å¸¦æ¥åŒèµ¢çš„å±€é¢ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1RYHpeNEby/?vd_source=ff015de2d29cbe2a9cdbfa7064407a08)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 2
names: ['-', 'Sports-Shoes']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åä¸ºâ€œSports Shoesâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¹è¿›YOLOv8çš„è¿åŠ¨é‹æ£€æµ‹ç³»ç»Ÿã€‚è¯¥æ•°æ®é›†ä¸“æ³¨äºè¿åŠ¨é‹çš„è¯†åˆ«ä¸åˆ†ç±»ï¼Œæ—¨åœ¨ä¸ºè®¡ç®—æœºè§†è§‰é¢†åŸŸæä¾›ä¸€ä¸ªé«˜æ•ˆä¸”ç²¾å‡†çš„è®­ç»ƒåŸºç¡€ã€‚æ•°æ®é›†çš„ç±»åˆ«æ•°é‡ä¸º2ï¼Œå…·ä½“ç±»åˆ«åˆ—è¡¨åŒ…æ‹¬â€œSports-Shoesâ€ï¼Œè€Œå¦ä¸€ä¸ªç±»åˆ«åˆ™è¢«æ ‡è®°ä¸ºâ€œ-â€ï¼Œè¿™æ„å‘³ç€åœ¨è¯¥æ•°æ®é›†ä¸­å¹¶æœªåŒ…å«å…¶ä»–ç±»åˆ«çš„è¿åŠ¨é‹æˆ–ç›¸å…³ç‰©å“ã€‚è¿™æ ·çš„è®¾è®¡ä½¿å¾—æ•°æ®é›†çš„èšç„¦æ›´åŠ æ˜ç¡®ï¼Œä¾¿äºæ¨¡å‹åœ¨ç‰¹å®šä»»åŠ¡ä¸Šçš„è®­ç»ƒä¸ä¼˜åŒ–ã€‚

â€œSports Shoesâ€æ•°æ®é›†çš„æ„å»ºè€ƒè™‘åˆ°äº†å¤šæ ·æ€§ä¸ä»£è¡¨æ€§ï¼Œæ¶µç›–äº†ä¸åŒå“ç‰Œã€æ¬¾å¼å’Œé¢œè‰²çš„è¿åŠ¨é‹ã€‚è¿™ç§å¤šæ ·æ€§ä¸ä»…æœ‰åŠ©äºæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè¿˜èƒ½å¢å¼ºå…¶åœ¨å®é™…åº”ç”¨ä¸­çš„å®ç”¨æ€§ã€‚æ•°æ®é›†ä¸­åŒ…å«çš„è¿åŠ¨é‹å›¾åƒç»è¿‡ç²¾å¿ƒæŒ‘é€‰ï¼Œç¡®ä¿æ¯ä¸€å¼ å›¾åƒéƒ½å…·å¤‡è‰¯å¥½çš„æ¸…æ™°åº¦å’Œæ ‡æ³¨å‡†ç¡®æ€§ï¼Œä»è€Œä¸ºYOLOv8çš„è®­ç»ƒæä¾›äº†é«˜è´¨é‡çš„è¾“å…¥æ•°æ®ã€‚

åœ¨æ•°æ®æ ‡æ³¨æ–¹é¢ï¼Œæ•°æ®é›†é‡‡ç”¨äº†ç²¾ç¡®çš„æ ‡æ³¨æŠ€æœ¯ï¼Œç¡®ä¿æ¯ä¸€åŒè¿åŠ¨é‹éƒ½è¢«å‡†ç¡®åœ°æ¡†å®šåœ¨å›¾åƒä¸­ã€‚è¿™ç§ç²¾ç»†çš„æ ‡æ³¨æ–¹æ³•ä¸ºæ¨¡å‹æä¾›äº†æ¸…æ™°çš„å­¦ä¹ ç›®æ ‡ï¼Œä½¿å¾—YOLOv8èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£è¿åŠ¨é‹çš„ç‰¹å¾å’Œå½¢æ€ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¨¡å‹èƒ½å¤Ÿåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ åˆ°è¿åŠ¨é‹çš„å…³é”®ç‰¹å¾ï¼Œå¦‚é‹é¢çš„æè´¨ã€é‹åº•çš„å½¢çŠ¶ä»¥åŠæ•´ä½“çš„è®¾è®¡é£æ ¼ç­‰ï¼Œä»è€Œæå‡å…¶æ£€æµ‹çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†çš„è®¾è®¡è¿˜è€ƒè™‘åˆ°äº†ä¸åŒåœºæ™¯ä¸‹è¿åŠ¨é‹çš„è¡¨ç°ã€‚ä¾‹å¦‚ï¼Œæ•°æ®é›†ä¸­åŒ…å«äº†åœ¨ä¸åŒå…‰ç…§æ¡ä»¶ã€èƒŒæ™¯ç¯å¢ƒå’Œæ‹æ‘„è§’åº¦ä¸‹çš„è¿åŠ¨é‹å›¾åƒã€‚è¿™ç§å¤šæ ·åŒ–çš„åœºæ™¯è®¾ç½®ä¸ä»…ä¸°å¯Œäº†æ•°æ®é›†çš„å†…å®¹ï¼Œä¹Ÿä¸ºæ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­é¢å¯¹å¤æ‚ç¯å¢ƒæ—¶çš„è¡¨ç°æä¾›äº†ä¿éšœã€‚é€šè¿‡è®­ç»ƒï¼ŒYOLOv8èƒ½å¤Ÿåœ¨å„ç§æ¡ä»¶ä¸‹è¯†åˆ«è¿åŠ¨é‹ï¼Œå¢å¼ºäº†å…¶åœ¨ç°å®ä¸–ç•Œåº”ç”¨ä¸­çš„é€‚åº”èƒ½åŠ›ã€‚

åœ¨æ•°æ®é›†çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜æ³¨é‡äº†æ•°æ®çš„å¹³è¡¡æ€§ã€‚è™½ç„¶ç±»åˆ«æ•°é‡è¾ƒå°‘ï¼Œä½†é€šè¿‡åˆç†çš„æ ·æœ¬åˆ†é…å’Œå¤šæ ·åŒ–çš„å›¾åƒé€‰æ‹©ï¼Œç¡®ä¿äº†æ¯ä¸ªç±»åˆ«çš„æ ·æœ¬é‡è¶³å¤Ÿï¼Œé¿å…äº†æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°åå‘æŸä¸€ç±»åˆ«çš„ç°è±¡ã€‚è¿™ç§å¹³è¡¡æ€§å¯¹äºæé«˜æ¨¡å‹çš„æ•´ä½“æ€§èƒ½è‡³å…³é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨è¿åŠ¨é‹æ£€æµ‹è¿™æ ·ä¸€ä¸ªç»†åˆ†é¢†åŸŸä¸­ï¼Œå‡†ç¡®æ€§å’Œå¯é æ€§æ˜¯è¯„ä¼°æ¨¡å‹æ€§èƒ½çš„é‡è¦æŒ‡æ ‡ã€‚

æ€»ä¹‹ï¼Œâ€œSports Shoesâ€æ•°æ®é›†ä¸ºæ”¹è¿›YOLOv8çš„è¿åŠ¨é‹æ£€æµ‹ç³»ç»Ÿæä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡ç²¾ç¡®çš„æ ‡æ³¨ã€å¤šæ ·åŒ–çš„æ ·æœ¬å’Œåˆç†çš„åœºæ™¯è®¾ç½®ï¼Œè¯¥æ•°æ®é›†ä¸ä»…æå‡äº†æ¨¡å‹çš„è®­ç»ƒæ•ˆæœï¼Œä¹Ÿä¸ºåç»­çš„ç ”ç©¶å’Œåº”ç”¨å¥ å®šäº†è‰¯å¥½çš„åŸºç¡€ã€‚æœªæ¥ï¼Œæˆ‘ä»¬æœŸå¾…é€šè¿‡ä¸æ–­ä¼˜åŒ–æ•°æ®é›†å’Œæ¨¡å‹ï¼Œè¿›ä¸€æ­¥æå‡è¿åŠ¨é‹æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ï¼Œä¸ºç›¸å…³é¢†åŸŸçš„åº”ç”¨æä¾›æ›´ä¸ºå¼ºå¤§çš„æŠ€æœ¯æ”¯æŒã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8æ˜¯ç”±Ultralyticså…¬å¸äº2023å¹´å‘å¸ƒçš„æœ€æ–°ä¸€ä»£ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œä½œä¸ºYOLOç³»åˆ—çš„å»¶ç»­ï¼Œå®ƒç»“åˆäº†ä¹‹å‰å¤šç§å…ˆè¿›æŠ€æœ¯ï¼Œå½¢æˆäº†ä¸€ç§é«˜æ•ˆä¸”å‡†ç¡®çš„ç›®æ ‡æ£€æµ‹è§£å†³æ–¹æ¡ˆã€‚YOLOv8çš„è®¾è®¡ç†å¿µåœ¨äºå®ç°é«˜æ•ˆçš„å®æ—¶ç›®æ ‡æ£€æµ‹ï¼ŒåŒæ—¶ä¿æŒè¾ƒé«˜çš„æ£€æµ‹ç²¾åº¦ï¼Œè¿™ä½¿å¾—å®ƒåœ¨å„ç±»åº”ç”¨åœºæ™¯ä¸­è¡¨ç°å‡ºè‰²ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦å¿«é€Ÿå“åº”çš„ç¯å¢ƒä¸­ï¼Œå¦‚è‡ªåŠ¨é©¾é©¶ã€ç›‘æ§ç³»ç»Ÿä»¥åŠå·¥ä¸šè‡ªåŠ¨åŒ–ç­‰ã€‚

YOLOv8nä½œä¸ºè¯¥ç³»åˆ—ä¸­çš„ä¸€ä¸ªé‡è¦ç‰ˆæœ¬ï¼Œé‡‡ç”¨äº†å¤šé¡¹åˆ›æ–°è®¾è®¡ã€‚é¦–å…ˆï¼Œåœ¨ä¸»å¹²ç½‘ç»œæ–¹é¢ï¼ŒYOLOv8nå¼•å…¥äº†C2fæ¨¡å—æ¥æ›¿ä»£YOLOv5ä¸­çš„C3æ¨¡å—ã€‚C2fæ¨¡å—çš„è®¾è®¡çµæ„Ÿæ¥æºäºYOLOv7çš„ELANç»“æ„ï¼Œå®ƒé€šè¿‡å°†ç‰¹å¾æå–è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªåˆ†æ”¯ï¼Œå¢å¼ºäº†ç‰¹å¾çš„é‡ç”¨æ€§å’Œæ¢¯åº¦æµåŠ¨æ€§ã€‚å…·ä½“è€Œè¨€ï¼ŒC2fæ¨¡å—ç”±å¤šä¸ªCBSï¼ˆå·ç§¯+å½’ä¸€åŒ–+SiLUæ¿€æ´»ï¼‰æ¨¡å—å’Œè‹¥å¹²ä¸ªBottleneckç»„æˆï¼Œè¿™ç§ç»“æ„èƒ½å¤Ÿæœ‰æ•ˆç¼“è§£æ·±å±‚ç½‘ç»œä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œæå‡æ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›å’Œæ”¶æ•›é€Ÿåº¦ã€‚

åœ¨ç‰¹å¾èåˆæ–¹é¢ï¼ŒYOLOv8né‡‡ç”¨äº†PAN-FPNï¼ˆPath Aggregation Network - Feature Pyramid Networkï¼‰ç»“æ„ã€‚è¿™ä¸€ç»“æ„é€šè¿‡è‡ªä¸‹è€Œä¸Šçš„ç‰¹å¾èåˆæ–¹å¼ï¼Œç»“åˆäº†ä¸åŒå±‚æ¬¡çš„ç‰¹å¾ä¿¡æ¯ï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨å¤„ç†å¤šå°ºåº¦ç›®æ ‡æ—¶çš„å‡†ç¡®æ€§ã€‚é€šè¿‡è¿™ç§è®¾è®¡ï¼ŒYOLOv8èƒ½å¤Ÿåœ¨ä¸åŒçš„ç‰¹å¾å±‚ä¹‹é—´è¿›è¡Œä¿¡æ¯çš„æœ‰æ•ˆä¼ é€’ï¼Œä»è€Œæé«˜äº†å¯¹å°ç›®æ ‡å’Œå¤æ‚åœºæ™¯çš„æ£€æµ‹èƒ½åŠ›ã€‚

YOLOv8nçš„å¦ä¸€ä¸ªæ˜¾è‘—ç‰¹ç‚¹æ˜¯å…¶Anchor-Freeçš„æ£€æµ‹æ–¹å¼ã€‚ä¼ ç»Ÿçš„YOLOç³»åˆ—æ¨¡å‹ä¾èµ–äºé¢„å®šä¹‰çš„é”šæ¡†è¿›è¡Œç›®æ ‡æ£€æµ‹ï¼Œè€ŒYOLOv8nåˆ™æŠ›å¼ƒäº†è¿™ä¸€æ–¹æ³•ï¼Œé‡‡ç”¨äº†æ›´ä¸ºçµæ´»çš„Anchor-Freeç­–ç•¥ã€‚è¿™ä¸€ç­–ç•¥ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿåœ¨æ²¡æœ‰é”šæ¡†çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ä»ç‰¹å¾å›¾ä¸­é¢„æµ‹ç›®æ ‡çš„ä½ç½®å’Œç±»åˆ«ï¼Œç®€åŒ–äº†æ¨¡å‹çš„è®¾è®¡å¹¶æé«˜äº†æ£€æµ‹çš„çµæ´»æ€§ã€‚

åœ¨æŸå¤±å‡½æ•°çš„è®¾è®¡ä¸Šï¼ŒYOLOv8nä½¿ç”¨äº†VFLLossä½œä¸ºåˆ†ç±»æŸå¤±ï¼Œå¹¶ç»“åˆDFLLosså’ŒCIoULossè¿›è¡Œè¾¹æ¡†å›å½’ã€‚è¿™ç§æŸå¤±å‡½æ•°çš„ç»„åˆæ—¨åœ¨æé«˜æ¨¡å‹åœ¨é¢å¯¹å¤æ‚èƒŒæ™¯å’Œå°ç›®æ ‡æ—¶çš„æ£€æµ‹ç²¾åº¦ï¼Œå°¤å…¶æ˜¯åœ¨æ ·æœ¬ä¸å¹³è¡¡çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹çš„å­¦ä¹ æ•ˆæœã€‚

æ•°æ®é¢„å¤„ç†æ–¹é¢ï¼ŒYOLOv8nç»§æ‰¿äº†YOLOv5çš„ç­–ç•¥ï¼Œé‡‡ç”¨äº†å¤šç§æ•°æ®å¢å¼ºæŠ€æœ¯ï¼Œå¦‚é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰ã€‚è¿™äº›å¢å¼ºæ‰‹æ®µä¸ä»…ä¸°å¯Œäº†è®­ç»ƒæ•°æ®é›†ï¼Œè¿˜æé«˜äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½¿å…¶åœ¨å®é™…åº”ç”¨ä¸­èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ä¸åŒçš„ç¯å¢ƒå’Œæ¡ä»¶ã€‚

YOLOv8nçš„ç½‘ç»œç»“æ„å¯ä»¥åˆ†ä¸ºè¾“å…¥å±‚ã€ä¸»å¹²ç½‘ç»œã€ç‰¹å¾èåˆå±‚å’Œè§£è€¦å¤´ã€‚è¾“å…¥å±‚è´Ÿè´£å°†å›¾åƒæ•°æ®è½¬æ¢ä¸ºé€‚åˆæ¨¡å‹å¤„ç†çš„æ ¼å¼ï¼Œä¸»å¹²ç½‘ç»œåˆ™é€šè¿‡C2fæ¨¡å—æå–ç‰¹å¾ï¼Œç‰¹å¾èåˆå±‚åˆ©ç”¨PAN-FPNç»“æ„å°†ä¸åŒå±‚æ¬¡çš„ç‰¹å¾è¿›è¡Œæœ‰æ•ˆæ•´åˆï¼Œæœ€åï¼Œè§£è€¦å¤´è´Ÿè´£å°†èåˆåçš„ç‰¹å¾è½¬æ¢ä¸ºæœ€ç»ˆçš„æ£€æµ‹ç»“æœã€‚

åœ¨è§£è€¦å¤´çš„è®¾è®¡ä¸­ï¼ŒYOLOv8nå€Ÿé‰´äº†YOLOXå’ŒYOLOv6çš„æ€è·¯ï¼Œé‡‡ç”¨äº†äºŒé˜¶æ®µçš„FCOSç›®æ ‡æ£€æµ‹ç½‘ç»œç»“æ„ã€‚è¯¥ç»“æ„é€šè¿‡å°†åˆ†ç±»å’Œå›å½’ä»»åŠ¡åˆ†å¼€å¤„ç†ï¼Œè¿›ä¸€æ­¥æé«˜äº†æ¨¡å‹çš„æ£€æµ‹ç²¾åº¦å’Œæ•ˆç‡ã€‚è§£è€¦å¤´çš„è¾“å‡ºåŒ…æ‹¬å¤šä¸ªå°ºåº¦çš„ç‰¹å¾å›¾ï¼Œåˆ†åˆ«å¯¹åº”äºä¸åŒå¤§å°çš„ç›®æ ‡ï¼Œè¿™ç§è®¾è®¡ä½¿å¾—YOLOv8nåœ¨å¤„ç†å¤šå°ºåº¦ç›®æ ‡æ—¶è¡¨ç°å¾—æ›´åŠ çµæ´»å’Œé«˜æ•ˆã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8né€šè¿‡å¼•å…¥C2fæ¨¡å—ã€PAN-FPNç»“æ„ä»¥åŠAnchor-Freeæ£€æµ‹æ–¹å¼ï¼Œç»“åˆå…ˆè¿›çš„æŸå¤±å‡½æ•°å’Œæ•°æ®å¢å¼ºç­–ç•¥ï¼Œå½¢æˆäº†ä¸€ç§é«˜æ•ˆã€å‡†ç¡®çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ã€‚è¿™äº›åˆ›æ–°è®¾è®¡ä¸ä»…æå‡äº†æ¨¡å‹çš„æ€§èƒ½ï¼Œä¹Ÿä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸå¸¦æ¥äº†æ–°çš„æ€è·¯å’Œæ–¹å‘ã€‚éšç€YOLOv8çš„å¹¿æ³›åº”ç”¨ï¼Œé¢„è®¡å°†ä¼šåœ¨å„ç±»å®é™…åœºæ™¯ä¸­å±•ç°å‡ºå…¶å¼ºå¤§çš„èƒ½åŠ›ï¼Œä¸ºè‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–çš„å‘å±•æä¾›æœ‰åŠ›æ”¯æŒã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 ultralytics\engine\__init__.py

æ ¹æ®æ‚¨æä¾›çš„ä»£ç ç‰‡æ®µ `# Ultralytics YOLO ğŸš€, AGPL-3.0 license`ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ³¨é‡Šï¼Œè¯´æ˜äº†ä»£ç çš„æ¥æºå’Œè®¸å¯è¯ä¿¡æ¯ã€‚ç”±äºæ²¡æœ‰å…·ä½“çš„ä»£ç å†…å®¹ï¼Œæ— æ³•è¿›è¡Œé€æ–‡ä»¶åˆ†æå’Œæå–æ ¸å¿ƒéƒ¨åˆ†ã€‚

ä¸è¿‡ï¼Œæˆ‘å¯ä»¥ç»™æ‚¨ä¸€ä¸ªå…³äºUltralytics YOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹çš„åŸºæœ¬ä»‹ç»å’Œä¸€äº›æ ¸å¿ƒæ¦‚å¿µçš„æ³¨é‡Šç¤ºä¾‹ã€‚YOLOæ˜¯ä¸€ç§å®æ—¶ç›®æ ‡æ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿåœ¨å›¾åƒä¸­å¿«é€Ÿè¯†åˆ«å’Œå®šä½å¤šä¸ªå¯¹è±¡ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå‡è®¾çš„YOLOæ¨¡å‹æ ¸å¿ƒä»£ç çš„ç¤ºä¾‹ï¼Œä»¥åŠè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import torch  # å¯¼å…¥PyTorchåº“ï¼Œç”¨äºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ„å»ºå’Œè®­ç»ƒ
import torchvision.transforms as transforms  # å¯¼å…¥å›¾åƒå¤„ç†åº“ï¼Œç”¨äºæ•°æ®é¢„å¤„ç†
from models.yolo import Model  # ä»æ¨¡å‹æ¨¡å—å¯¼å…¥YOLOæ¨¡å‹ç±»

# å®šä¹‰å›¾åƒé¢„å¤„ç†çš„è½¬æ¢æ“ä½œ
transform = transforms.Compose([
    transforms.Resize((640, 640)),  # å°†è¾“å…¥å›¾åƒè°ƒæ•´ä¸º640x640çš„å¤§å°
    transforms.ToTensor(),  # å°†å›¾åƒè½¬æ¢ä¸ºå¼ é‡æ ¼å¼
])

# åŠ è½½YOLOæ¨¡å‹
model = Model(cfg='yolov5s.yaml', ch=3, nc=80)  # ä½¿ç”¨YOLOv5sé…ç½®æ–‡ä»¶ï¼Œè¾“å…¥é€šé“ä¸º3ï¼ˆRGBï¼‰ï¼Œç±»åˆ«æ•°ä¸º80

# åŠ è½½é¢„è®­ç»ƒæƒé‡
model.load_state_dict(torch.load('yolov5s.pt', map_location='cpu'))  # ä»æ–‡ä»¶åŠ è½½æ¨¡å‹æƒé‡

# è®¾ç½®æ¨¡å‹ä¸ºè¯„ä¼°æ¨¡å¼
model.eval()  # å°†æ¨¡å‹è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼ï¼Œç¦ç”¨dropoutç­‰è®­ç»ƒæ—¶ç‰¹æ€§

# è¿›è¡Œç›®æ ‡æ£€æµ‹çš„å‡½æ•°
def detect(image):
    # å¯¹è¾“å…¥å›¾åƒè¿›è¡Œé¢„å¤„ç†
    img_tensor = transform(image).unsqueeze(0)  # æ·»åŠ ä¸€ä¸ªç»´åº¦ä»¥é€‚åº”æ¨¡å‹è¾“å…¥

    # ä½¿ç”¨æ¨¡å‹è¿›è¡Œæ¨ç†
    with torch.no_grad():  # ç¦ç”¨æ¢¯åº¦è®¡ç®—ä»¥èŠ‚çœå†…å­˜
        predictions = model(img_tensor)  # è·å–æ¨¡å‹çš„é¢„æµ‹ç»“æœ

    return predictions  # è¿”å›é¢„æµ‹ç»“æœ
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥åº“**ï¼šå¼•å…¥å¿…è¦çš„åº“å’Œæ¨¡å—ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚
2. **å›¾åƒé¢„å¤„ç†**ï¼šå®šä¹‰å›¾åƒçš„é¢„å¤„ç†æ­¥éª¤ï¼ŒåŒ…æ‹¬è°ƒæ•´å¤§å°å’Œè½¬æ¢ä¸ºå¼ é‡æ ¼å¼ã€‚
3. **åŠ è½½æ¨¡å‹**ï¼šå®ä¾‹åŒ–YOLOæ¨¡å‹ï¼Œå¹¶åŠ è½½é¢„è®­ç»ƒçš„æƒé‡æ–‡ä»¶ã€‚
4. **è¯„ä¼°æ¨¡å¼**ï¼šå°†æ¨¡å‹è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼ï¼Œä»¥ç¡®ä¿åœ¨æ¨ç†æ—¶ä¸ä½¿ç”¨è®­ç»ƒç‰¹æ€§ã€‚
5. **ç›®æ ‡æ£€æµ‹å‡½æ•°**ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨äºå¤„ç†è¾“å…¥å›¾åƒå¹¶è¿”å›æ¨¡å‹çš„é¢„æµ‹ç»“æœã€‚

å¦‚æœæ‚¨æœ‰æ›´å…·ä½“çš„ä»£ç æˆ–æ–‡ä»¶éœ€è¦åˆ†æï¼Œè¯·æä¾›è¯¦ç»†å†…å®¹ï¼Œæˆ‘å°†ä¹æ„å¸®åŠ©æ‚¨è¿›è¡Œåˆ†æå’Œæ³¨é‡Šã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œæ–‡ä»¶åä¸º`__init__.py`ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°†åŒ…å«è¯¥æ–‡ä»¶çš„ç›®å½•æ ‡è¯†ä¸ºä¸€ä¸ªPythonåŒ…ã€‚æ–‡ä»¶å¼€å¤´çš„æ³¨é‡Šè¡¨æ˜è¯¥é¡¹ç›®æ˜¯Ultralyticså¼€å‘çš„YOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹ï¼Œä½¿ç”¨çš„æ˜¯AGPL-3.0è®¸å¯è¯ã€‚è¿™æ„å‘³ç€è¯¥é¡¹ç›®æ˜¯å¼€æºçš„ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ï¼Œä½†éœ€è¦éµå¾ªç›¸åº”çš„è®¸å¯è¯æ¡æ¬¾ã€‚

åœ¨Pythonä¸­ï¼Œ`__init__.py`æ–‡ä»¶é€šå¸¸ç”¨äºåˆå§‹åŒ–åŒ…çš„å‘½åç©ºé—´ï¼Œå¯ä»¥åœ¨å…¶ä¸­å®šä¹‰åŒ…çš„å…¬å…±æ¥å£ï¼Œå¯¼å…¥å­æ¨¡å—æˆ–è®¾ç½®åŒ…çš„åˆå§‹çŠ¶æ€ã€‚è™½ç„¶åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æ²¡æœ‰å…·ä½“çš„ä»£ç å®ç°ï¼Œä½†å®ƒçš„å­˜åœ¨å¯¹äºç¡®ä¿åŒ…çš„æ­£ç¡®å¯¼å…¥å’Œä½¿ç”¨æ˜¯éå¸¸é‡è¦çš„ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œç¡®ä¿äº†è¯¥é¡¹ç›®èƒ½å¤Ÿä½œä¸ºä¸€ä¸ªå®Œæ•´çš„PythonåŒ…è¢«ä½¿ç”¨å’Œåˆ†å‘ã€‚

#### 11.2 ultralytics\models\fastsam\val.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# å¯¼å…¥æ‰€éœ€çš„ç±»
from ultralytics.models.yolo.segment import SegmentationValidator
from ultralytics.utils.metrics import SegmentMetrics

class FastSAMValidator(SegmentationValidator):
    """
    è‡ªå®šä¹‰éªŒè¯ç±»ï¼Œç”¨äºåœ¨Ultralytics YOLOæ¡†æ¶ä¸­è¿›è¡Œå¿«é€ŸSAMï¼ˆSegment Anything Modelï¼‰åˆ†å‰²ã€‚

    è¯¥ç±»æ‰©å±•äº†SegmentationValidatorç±»ï¼Œä¸“é—¨å®šåˆ¶äº†å¿«é€ŸSAMçš„éªŒè¯è¿‡ç¨‹ã€‚æ­¤ç±»å°†ä»»åŠ¡è®¾ç½®ä¸ºâ€œåˆ†å‰²â€ï¼Œå¹¶ä½¿ç”¨SegmentMetricsè¿›è¡Œè¯„ä¼°ã€‚
    æ­¤å¤–ï¼Œä¸ºäº†é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œç¦ç”¨äº†ç»˜å›¾åŠŸèƒ½ã€‚
    """

    def __init__(self, dataloader=None, save_dir=None, pbar=None, args=None, _callbacks=None):
        """
        åˆå§‹åŒ–FastSAMValidatorç±»ï¼Œå°†ä»»åŠ¡è®¾ç½®ä¸ºâ€œåˆ†å‰²â€ï¼Œå¹¶å°†åº¦é‡æ ‡å‡†è®¾ç½®ä¸ºSegmentMetricsã€‚

        å‚æ•°ï¼š
            dataloader (torch.utils.data.DataLoader): ç”¨äºéªŒè¯çš„æ•°æ®åŠ è½½å™¨ã€‚
            save_dir (Path, optional): ä¿å­˜ç»“æœçš„ç›®å½•ã€‚
            pbar (tqdm.tqdm): ç”¨äºæ˜¾ç¤ºè¿›åº¦çš„è¿›åº¦æ¡ã€‚
            args (SimpleNamespace): éªŒè¯å™¨çš„é…ç½®ã€‚
            _callbacks (dict): ç”¨äºå­˜å‚¨å„ç§å›è°ƒå‡½æ•°çš„å­—å…¸ã€‚

        æ³¨æ„ï¼š
            æ­¤ç±»ç¦ç”¨äº†ConfusionMatrixå’Œå…¶ä»–ç›¸å…³åº¦é‡çš„ç»˜å›¾ï¼Œä»¥é¿å…é”™è¯¯ã€‚
        """
        # è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•
        super().__init__(dataloader, save_dir, pbar, args, _callbacks)
        # è®¾ç½®ä»»åŠ¡ç±»å‹ä¸ºâ€œåˆ†å‰²â€
        self.args.task = "segment"
        # ç¦ç”¨ç»˜å›¾åŠŸèƒ½ä»¥é¿å…é”™è¯¯
        self.args.plots = False  
        # åˆå§‹åŒ–åº¦é‡æ ‡å‡†ä¸ºSegmentMetrics
        self.metrics = SegmentMetrics(save_dir=self.save_dir, on_plot=self.on_plot)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **ç±»å®šä¹‰**ï¼š`FastSAMValidator`ç±»ç»§æ‰¿è‡ª`SegmentationValidator`ï¼Œç”¨äºå®ç°å¿«é€ŸSAMçš„åˆ†å‰²éªŒè¯ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼š`__init__`æ–¹æ³•ç”¨äºåˆå§‹åŒ–éªŒè¯å™¨ï¼Œè®¾ç½®ä»»åŠ¡ç±»å‹ä¸ºâ€œåˆ†å‰²â€ï¼Œå¹¶ç¦ç”¨ç»˜å›¾åŠŸèƒ½ï¼Œä»¥é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ã€‚
3. **åº¦é‡æ ‡å‡†**ï¼šä½¿ç”¨`SegmentMetrics`æ¥è¯„ä¼°åˆ†å‰²æ€§èƒ½ï¼Œå¹¶æŒ‡å®šç»“æœä¿å­˜çš„ç›®å½•ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `FastSAMValidator` çš„ç±»ï¼Œè¯¥ç±»ç”¨äºåœ¨ Ultralytics YOLO æ¡†æ¶ä¸­è¿›è¡Œå¿«é€Ÿ SAMï¼ˆSegment Anything Modelï¼‰åˆ†å‰²çš„è‡ªå®šä¹‰éªŒè¯ã€‚å®ƒç»§æ‰¿è‡ª `SegmentationValidator` ç±»ï¼Œå¹¶é’ˆå¯¹å¿«é€Ÿ SAM çš„éªŒè¯è¿‡ç¨‹è¿›è¡Œäº†ç‰¹å®šçš„å®šåˆ¶ã€‚

åœ¨ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ï¼Œè¯´æ˜äº†è¯¥ç±»çš„ä¸»è¦åŠŸèƒ½å’Œå±æ€§ã€‚å®ƒå°†ä»»åŠ¡è®¾ç½®ä¸ºâ€œåˆ†å‰²â€ï¼Œå¹¶ä½¿ç”¨ `SegmentMetrics` è¿›è¡Œè¯„ä¼°ã€‚æ­¤å¤–ï¼Œä¸ºäº†é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œç»˜å›¾åŠŸèƒ½è¢«ç¦ç”¨ã€‚

æ„é€ å‡½æ•° `__init__` ç”¨äºåˆå§‹åŒ– `FastSAMValidator` ç±»çš„å®ä¾‹ã€‚å®ƒæ¥å—å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½å™¨ã€ç»“æœä¿å­˜ç›®å½•ã€è¿›åº¦æ¡ã€é…ç½®å‚æ•°ä»¥åŠå›è°ƒå‡½æ•°å­—å…¸ã€‚æ„é€ å‡½æ•°é¦–å…ˆè°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œç„¶åå°†ä»»åŠ¡ç±»å‹è®¾ç½®ä¸ºâ€œsegmentâ€ï¼Œå¹¶ç¦ç”¨ç»˜å›¾åŠŸèƒ½ï¼Œä»¥é¿å…åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°ä¸æ··æ·†çŸ©é˜µå’Œå…¶ä»–ç›¸å…³æŒ‡æ ‡ç»˜å›¾ç›¸å…³çš„é”™è¯¯ã€‚æœ€åï¼Œå®ƒè¿˜åˆå§‹åŒ–äº† `SegmentMetrics` å®ä¾‹ï¼Œç”¨äºåœ¨æŒ‡å®šçš„ä¿å­˜ç›®å½•ä¸­è¿›è¡Œè¯„ä¼°ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªç±»çš„è®¾è®¡æ—¨åœ¨ä¸ºå¿«é€Ÿ SAM æä¾›ä¸€ä¸ªä¸“é—¨çš„éªŒè¯æ¡†æ¶ï¼Œç¡®ä¿åœ¨åˆ†å‰²ä»»åŠ¡ä¸­èƒ½å¤Ÿæœ‰æ•ˆåœ°è¯„ä¼°æ¨¡å‹æ€§èƒ½ï¼ŒåŒæ—¶é¿å…ä¸å¿…è¦çš„é”™è¯¯ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šæ‚¨çš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬åç§°

    # è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `import sys`ï¼šå¯¼å…¥ `sys` æ¨¡å—ä»¥è®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `import subprocess`ï¼šå¯¼å…¥ `subprocess` æ¨¡å—ä»¥ä¾¿èƒ½å¤Ÿåˆ›å»ºæ–°è¿›ç¨‹ã€è¿æ¥åˆ°å®ƒä»¬çš„è¾“å…¥/è¾“å‡º/é”™è¯¯ç®¡é“ï¼Œå¹¶è·å–è¿”å›ç ã€‚

2. **å®šä¹‰ `run_script` å‡½æ•°**ï¼š
   - è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ Python ç¯å¢ƒæ¥è¿è¡Œè„šæœ¬ã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸² `command`ï¼Œè¯¥å‘½ä»¤ä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶å°† `shell=True` ä½œä¸ºå‚æ•°ï¼Œå…è®¸åœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚
   - æ£€æŸ¥å‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

3. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - `if __name__ == "__main__":`ï¼šç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œè€Œä¸æ˜¯åœ¨è¢«å¯¼å…¥æ—¶æ‰§è¡Œã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ `script_path`ï¼Œè¿™é‡Œç›´æ¥æŒ‡å®šä¸º `"web.py"`ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥è¿è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒè¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯ä½¿ç”¨ Streamlit æ¡†æ¶æ¥å¯åŠ¨ä¸€ä¸ª Web åº”ç”¨ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å‡ ä¸ªå¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ã€‚å…¶ä¸­ï¼Œ`sys` æ¨¡å—ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ï¼Œ`os` æ¨¡å—æä¾›äº†ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ï¼Œè€Œ `subprocess` æ¨¡å—åˆ™ç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

æ¥ä¸‹æ¥ï¼Œç¨‹åºä» `QtFusion.path` æ¨¡å—ä¸­å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

ç¨‹åºä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º `run_script` çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œé¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œå­˜å‚¨åœ¨ `python_path` å˜é‡ä¸­ã€‚ç„¶åï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit run` å‘½ä»¤æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™ä¸ªå‘½ä»¤çš„æ ¼å¼æ˜¯å°† Python è§£é‡Šå™¨çš„è·¯å¾„å’Œè„šæœ¬è·¯å¾„ç»„åˆåœ¨ä¸€èµ·ã€‚

æ¥ç€ï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œæ„å»ºå¥½çš„å‘½ä»¤ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨ä¸€ä¸ªæ–°çš„ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚å¦‚æœå‘½ä»¤æ‰§è¡Œåè¿”å›çš„çŠ¶æ€ç ä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šæ‰“å°å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œç¨‹åºé€šè¿‡ `if __name__ == "__main__":` è¯­å¥æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ç›´æ¥è¿è¡Œè¯¥è„šæœ¬ã€‚å¦‚æœæ˜¯ï¼Œåˆ™æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼Œè¿™é‡Œä½¿ç”¨ `abs_path("web.py")` æ¥è·å– `web.py` çš„ç»å¯¹è·¯å¾„ã€‚æœ€åï¼Œè°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»ä½“æ¥çœ‹ï¼Œè¿™ä¸ªç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ª Streamlit åº”ç”¨è„šæœ¬ï¼Œæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥å¯åŠ¨ Web åº”ç”¨ã€‚

#### 11.4 ultralytics\solutions\object_counter.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
from collections import defaultdict
import cv2
from shapely.geometry import LineString, Point, Polygon

class ObjectCounter:
    """ç”¨äºç®¡ç†å®æ—¶è§†é¢‘æµä¸­å¯¹è±¡è®¡æ•°çš„ç±»ã€‚"""

    def __init__(self):
        """åˆå§‹åŒ–è®¡æ•°å™¨ï¼Œè®¾ç½®é»˜è®¤å€¼ã€‚"""
        # é¼ æ ‡äº‹ä»¶ç›¸å…³
        self.is_drawing = False  # æ˜¯å¦æ­£åœ¨ç»˜åˆ¶
        self.selected_point = None  # é€‰ä¸­çš„ç‚¹

        # åŒºåŸŸå’Œçº¿çš„ä¿¡æ¯
        self.reg_pts = [(20, 400), (1260, 400)]  # é»˜è®¤è®¡æ•°åŒºåŸŸçš„ç‚¹
        self.line_dist_thresh = 15  # çº¿è·ç¦»é˜ˆå€¼
        self.counting_region = None  # è®¡æ•°åŒºåŸŸ
        self.region_color = (255, 0, 255)  # åŒºåŸŸé¢œè‰²
        self.region_thickness = 5  # åŒºåŸŸçº¿å®½

        # å›¾åƒå’Œæ³¨é‡Šä¿¡æ¯
        self.im0 = None  # å½“å‰å¸§å›¾åƒ
        self.tf = None  # çº¿å®½
        self.view_img = False  # æ˜¯å¦æ˜¾ç¤ºå›¾åƒ
        self.view_in_counts = True  # æ˜¯å¦æ˜¾ç¤ºå…¥å¢ƒè®¡æ•°
        self.view_out_counts = True  # æ˜¯å¦æ˜¾ç¤ºå‡ºå¢ƒè®¡æ•°

        # å¯¹è±¡è®¡æ•°ä¿¡æ¯
        self.in_counts = 0  # å…¥å¢ƒè®¡æ•°
        self.out_counts = 0  # å‡ºå¢ƒè®¡æ•°
        self.counting_list = []  # æ­£åœ¨è®¡æ•°çš„å¯¹è±¡åˆ—è¡¨

        # è·Ÿè¸ªä¿¡æ¯
        self.track_history = defaultdict(list)  # è·Ÿè¸ªå†å²
        self.track_color = (0, 255, 0)  # è·Ÿè¸ªçº¿é¢œè‰²

    def set_args(self, classes_names, reg_pts):
        """
        é…ç½®è®¡æ•°å™¨çš„å‚æ•°ï¼ŒåŒ…æ‹¬ç±»åˆ«åç§°å’Œè®¡æ•°åŒºåŸŸç‚¹ã€‚

        Args:
            classes_names (dict): ç±»åˆ«åç§°
            reg_pts (list): å®šä¹‰è®¡æ•°åŒºåŸŸçš„ç‚¹
        """
        self.reg_pts = reg_pts  # è®¾ç½®è®¡æ•°åŒºåŸŸçš„ç‚¹
        if len(reg_pts) == 2:
            self.counting_region = LineString(self.reg_pts)  # çº¿è®¡æ•°
        elif len(reg_pts) == 4:
            self.counting_region = Polygon(self.reg_pts)  # åŒºåŸŸè®¡æ•°
        else:
            raise ValueError("Invalid Region points provided, region_points can be 2 or 4")

        self.names = classes_names  # è®¾ç½®ç±»åˆ«åç§°

    def extract_and_process_tracks(self, tracks):
        """æå–å¹¶å¤„ç†è§†é¢‘æµä¸­çš„è·Ÿè¸ªæ•°æ®ä»¥è¿›è¡Œå¯¹è±¡è®¡æ•°ã€‚"""
        boxes = tracks[0].boxes.xyxy.cpu()  # è·å–è¾¹ç•Œæ¡†
        clss = tracks[0].boxes.cls.cpu().tolist()  # è·å–ç±»åˆ«
        track_ids = tracks[0].boxes.id.int().cpu().tolist()  # è·å–è·Ÿè¸ªID

        # å¤„ç†æ¯ä¸ªè¾¹ç•Œæ¡†
        for box, track_id, cls in zip(boxes, track_ids, clss):
            # è®¡ç®—å¯¹è±¡æ˜¯å¦è¿›å…¥æˆ–ç¦»å¼€è®¡æ•°åŒºåŸŸ
            prev_position = self.track_history[track_id][-2] if len(self.track_history[track_id]) > 1 else None
            if prev_position is not None:
                if self.counting_region.contains(Point(box[0], box[1])) and track_id not in self.counting_list:
                    self.counting_list.append(track_id)
                    if (box[0] - prev_position[0]) > 0:  # åˆ¤æ–­æ–¹å‘
                        self.in_counts += 1
                    else:
                        self.out_counts += 1

    def display_frames(self):
        """æ˜¾ç¤ºå½“å‰å¸§å›¾åƒã€‚"""
        cv2.imshow("Object Counter", self.im0)  # æ˜¾ç¤ºå›¾åƒ
        if cv2.waitKey(1) & 0xFF == ord("q"):  # æŒ‰'q'é€€å‡º
            return

    def start_counting(self, im0, tracks):
        """
        å¯åŠ¨å¯¹è±¡è®¡æ•°è¿‡ç¨‹ã€‚

        Args:
            im0 (ndarray): å½“å‰å¸§å›¾åƒã€‚
            tracks (list): ä»å¯¹è±¡è·Ÿè¸ªè¿‡ç¨‹ä¸­è·å¾—çš„è·Ÿè¸ªåˆ—è¡¨ã€‚
        """
        self.im0 = im0  # å­˜å‚¨å½“å‰å¸§å›¾åƒ
        if tracks[0].boxes.id is None:
            if self.view_img:
                self.display_frames()  # å¦‚æœæ²¡æœ‰è·Ÿè¸ªæ•°æ®ï¼Œæ˜¾ç¤ºå›¾åƒ
            return
        self.extract_and_process_tracks(tracks)  # æå–å’Œå¤„ç†è·Ÿè¸ªæ•°æ®
        if self.view_img:
            self.display_frames()  # æ˜¾ç¤ºå›¾åƒ
```

### ä»£ç è¯´æ˜ï¼š
1. **ObjectCounterç±»**ï¼šè´Ÿè´£å¯¹è±¡è®¡æ•°çš„æ ¸å¿ƒé€»è¾‘ï¼ŒåŒ…æ‹¬åˆå§‹åŒ–ã€è®¾ç½®å‚æ•°ã€æå–å’Œå¤„ç†è·Ÿè¸ªæ•°æ®ã€æ˜¾ç¤ºå›¾åƒç­‰åŠŸèƒ½ã€‚
2. **__init__æ–¹æ³•**ï¼šåˆå§‹åŒ–ç±»çš„å±æ€§ï¼ŒåŒ…æ‹¬è®¡æ•°åŒºåŸŸã€è®¡æ•°å€¼ã€è·Ÿè¸ªå†å²ç­‰ã€‚
3. **set_argsæ–¹æ³•**ï¼šè®¾ç½®è®¡æ•°å™¨çš„å‚æ•°ï¼Œå¦‚ç±»åˆ«åç§°å’Œè®¡æ•°åŒºåŸŸçš„ç‚¹ã€‚
4. **extract_and_process_tracksæ–¹æ³•**ï¼šå¤„ç†è·Ÿè¸ªæ•°æ®ï¼Œåˆ¤æ–­å¯¹è±¡æ˜¯è¿›å…¥è¿˜æ˜¯ç¦»å¼€è®¡æ•°åŒºåŸŸï¼Œå¹¶æ›´æ–°è®¡æ•°å€¼ã€‚
5. **display_framesæ–¹æ³•**ï¼šæ˜¾ç¤ºå½“å‰å¸§å›¾åƒï¼Œå¹¶å¤„ç†é€€å‡ºé€»è¾‘ã€‚
6. **start_countingæ–¹æ³•**ï¼šå¯åŠ¨è®¡æ•°è¿‡ç¨‹ï¼Œæå–å½“å‰å¸§å›¾åƒå’Œè·Ÿè¸ªæ•°æ®ï¼Œè°ƒç”¨ç›¸å…³å¤„ç†æ–¹æ³•ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `ObjectCounter` çš„ç±»ï¼Œç”¨äºåœ¨å®æ—¶è§†é¢‘æµä¸­åŸºäºç‰©ä½“çš„è½¨è¿¹è¿›è¡Œè®¡æ•°ã€‚ç¨‹åºçš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡è®¾å®šçš„åŒºåŸŸæˆ–çº¿æ¥ç›‘æµ‹ç‰©ä½“çš„è¿›å‡ºï¼Œå¹¶å¯¹å…¶è¿›è¡Œè®¡æ•°ã€‚

åœ¨ç±»çš„åˆå§‹åŒ–æ–¹æ³• `__init__` ä¸­ï¼Œè®¾ç½®äº†ä¸€äº›é»˜è®¤å€¼ï¼ŒåŒ…æ‹¬é¼ æ ‡äº‹ä»¶çš„çŠ¶æ€ã€è®¡æ•°åŒºåŸŸçš„ç‚¹ã€è®¡æ•°é˜ˆå€¼ã€å›¾åƒæ˜¾ç¤ºçš„ç›¸å…³å‚æ•°ã€è®¡æ•°ä¿¡æ¯ã€è½¨è¿¹ä¿¡æ¯ç­‰ã€‚é€šè¿‡è¿™äº›å‚æ•°ï¼Œç¨‹åºèƒ½å¤Ÿçµæ´»åœ°å¤„ç†ä¸åŒçš„è®¡æ•°éœ€æ±‚ã€‚

`set_args` æ–¹æ³•ç”¨äºé…ç½®è®¡æ•°å™¨çš„å„ç§å‚æ•°ï¼ŒåŒ…æ‹¬è®¡æ•°åŒºåŸŸçš„é¢œè‰²ã€çº¿çš„åšåº¦ã€æ˜¯å¦æ˜¾ç¤ºå›¾åƒç­‰ã€‚è¯¥æ–¹æ³•è¿˜æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰è®¡æ•°åŒºåŸŸï¼Œå¯ä»¥æ˜¯çº¿ï¼ˆä¸¤ä¸ªç‚¹ï¼‰æˆ–å¤šè¾¹å½¢ï¼ˆå››ä¸ªç‚¹ï¼‰ï¼Œå¹¶æ ¹æ®è¾“å…¥çš„ç‚¹æ•°åˆå§‹åŒ–ç›¸åº”çš„è®¡æ•°åŒºåŸŸã€‚

`mouse_event_for_region` æ–¹æ³•å¤„ç†é¼ æ ‡äº‹ä»¶ï¼Œå…è®¸ç”¨æˆ·åœ¨è§†é¢‘æµä¸­é€šè¿‡é¼ æ ‡æ‹–åŠ¨æ¥è°ƒæ•´è®¡æ•°åŒºåŸŸã€‚è¯¥æ–¹æ³•ä¼šæ ¹æ®é¼ æ ‡çš„ç‚¹å‡»å’Œç§»åŠ¨äº‹ä»¶æ›´æ–°è®¡æ•°åŒºåŸŸçš„ç‚¹ã€‚

`extract_and_process_tracks` æ–¹æ³•æ˜¯æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒæå–å¹¶å¤„ç†ä»å¯¹è±¡è·Ÿè¸ªè¿‡ç¨‹ä¸­è·å¾—çš„è½¨è¿¹æ•°æ®ã€‚è¯¥æ–¹æ³•é¦–å…ˆè·å–æ£€æµ‹åˆ°çš„è¾¹ç•Œæ¡†ã€ç±»åˆ«å’Œè½¨è¿¹IDï¼Œç„¶åä½¿ç”¨ `Annotator` ç±»ç»˜åˆ¶åŒºåŸŸå’Œè¾¹ç•Œæ¡†ï¼Œå¹¶æ ¹æ®ç‰©ä½“çš„ç§»åŠ¨æƒ…å†µæ›´æ–°è®¡æ•°ã€‚å®ƒä¼šåˆ¤æ–­ç‰©ä½“æ˜¯å¦è¿›å…¥æˆ–ç¦»å¼€è®¾å®šçš„è®¡æ•°åŒºåŸŸï¼Œå¹¶ç›¸åº”åœ°æ›´æ–°è®¡æ•°å€¼ã€‚

`display_frames` æ–¹æ³•ç”¨äºæ˜¾ç¤ºå½“å‰å¸§å›¾åƒï¼Œå¹¶åœ¨çª—å£ä¸­è®¾ç½®é¼ æ ‡å›è°ƒï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥å®æ—¶è°ƒæ•´è®¡æ•°åŒºåŸŸã€‚

`start_counting` æ–¹æ³•æ˜¯æ•´ä¸ªè®¡æ•°è¿‡ç¨‹çš„å…¥å£ï¼Œæ¥æ”¶å½“å‰å¸§å›¾åƒå’Œè·Ÿè¸ªæ•°æ®ï¼Œè°ƒç”¨å¤„ç†å‡½æ•°è¿›è¡Œè®¡æ•°ï¼Œå¹¶åœ¨éœ€è¦æ—¶æ˜¾ç¤ºå›¾åƒã€‚

æœ€åï¼Œç¨‹åºé€šè¿‡ `if __name__ == "__main__":` è¯­å¥ç¡®ä¿åœ¨ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶æ—¶ä¼šåˆ›å»ºä¸€ä¸ª `ObjectCounter` å®ä¾‹ã€‚è¿™ä¸ªç±»çš„è®¾è®¡ä½¿å¾—å®ƒèƒ½å¤Ÿçµæ´»åœ°é€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œæ”¯æŒç”¨æˆ·äº¤äº’å’Œå®æ—¶è®¡æ•°ã€‚

#### 11.5 ultralytics\utils\errors.py

```python
# å¯¼å…¥ultralytics.utilsæ¨¡å—ä¸­çš„emojiså‡½æ•°ï¼Œç”¨äºå¤„ç†å¸¦æœ‰è¡¨æƒ…ç¬¦å·çš„æ¶ˆæ¯
from ultralytics.utils import emojis

# è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œç”¨äºå¤„ç†ä¸Ultralytics YOLOæ¨¡å‹è·å–ç›¸å…³çš„é”™è¯¯
class HUBModelError(Exception):
    """
    è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œç”¨äºå¤„ç†Ultralytics YOLOä¸­ä¸æ¨¡å‹è·å–ç›¸å…³çš„é”™è¯¯ã€‚

    å½“è¯·æ±‚çš„æ¨¡å‹æœªæ‰¾åˆ°æˆ–æ— æ³•æ£€ç´¢æ—¶ï¼Œå°†å¼•å‘æ­¤å¼‚å¸¸ã€‚
    æ¶ˆæ¯ç»è¿‡å¤„ç†ï¼Œä»¥åŒ…å«è¡¨æƒ…ç¬¦å·ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚

    å±æ€§:
        message (str): å½“å¼‚å¸¸è¢«å¼•å‘æ—¶æ˜¾ç¤ºçš„é”™è¯¯æ¶ˆæ¯ã€‚

    æ³¨æ„:
        æ¶ˆæ¯ä¼šé€šè¿‡'ultralytics.utils'åŒ…ä¸­çš„'emojis'å‡½æ•°è‡ªåŠ¨å¤„ç†ã€‚
    """

    def __init__(self, message="Model not found. Please check model URL and try again."):
        """å½“æ¨¡å‹æœªæ‰¾åˆ°æ—¶åˆ›å»ºå¼‚å¸¸ã€‚"""
        # è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä½¿ç”¨emojiså‡½æ•°å¤„ç†æ¶ˆæ¯
        super().__init__(emojis(message))
``` 

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼šå¯¼å…¥äº†`emojis`å‡½æ•°ï¼Œç”¨äºå°†æ¶ˆæ¯ä¸­çš„æ–‡æœ¬è½¬æ¢ä¸ºå¸¦æœ‰è¡¨æƒ…ç¬¦å·çš„æ ¼å¼ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒã€‚
2. **è‡ªå®šä¹‰å¼‚å¸¸ç±»**ï¼šå®šä¹‰äº†`HUBModelError`ç±»ï¼Œç»§æ‰¿è‡ªPythonå†…ç½®çš„`Exception`ç±»ï¼Œç”¨äºä¸“é—¨å¤„ç†æ¨¡å‹è·å–ç›¸å…³çš„é”™è¯¯ã€‚
3. **æ„é€ å‡½æ•°**ï¼šåœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè®¾ç½®äº†é»˜è®¤çš„é”™è¯¯æ¶ˆæ¯ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç¡®ä¿å¼‚å¸¸èƒ½å¤Ÿæ­£ç¡®åœ°è¢«æŠ›å‡ºå’Œå¤„ç†ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œåä¸º `HUBModelError`ï¼Œç”¨äºå¤„ç†ä¸ Ultralytics YOLO æ¨¡å‹è·å–ç›¸å…³çš„é”™è¯¯ã€‚å®ƒç»§æ‰¿è‡ª Python çš„å†…ç½®å¼‚å¸¸ç±» `Exception`ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªç‰¹å®šçš„é”™è¯¯æ¶ˆæ¯ï¼Œæ—¨åœ¨æå‡ç”¨æˆ·ä½“éªŒã€‚

åœ¨è¿™ä¸ªç±»ä¸­ï¼Œæ„é€ å‡½æ•° `__init__` æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•° `message`ï¼Œé»˜è®¤å€¼ä¸º "Model not found. Please check model URL and try again."ã€‚å½“è¿™ä¸ªå¼‚å¸¸è¢«æŠ›å‡ºæ—¶ï¼Œç”¨æˆ·å°†çœ‹åˆ°è¿™ä¸ªæ¶ˆæ¯ã€‚é‡è¦çš„æ˜¯ï¼Œè¿™ä¸ªæ¶ˆæ¯ä¼šé€šè¿‡ `ultralytics.utils` åŒ…ä¸­çš„ `emojis` å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œè¿™æ„å‘³ç€åœ¨æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯æ—¶ï¼Œå¯èƒ½ä¼šæ·»åŠ ä¸€äº›è¡¨æƒ…ç¬¦å·ï¼Œä»¥ä½¿ä¿¡æ¯æ›´åŠ ç”ŸåŠ¨å’Œæ˜“äºç†è§£ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªä¸“é—¨çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä»¥ä¾¿åœ¨æ¨¡å‹æœªæ‰¾åˆ°æˆ–æ— æ³•è·å–æ—¶ï¼Œèƒ½å¤Ÿä»¥ç”¨æˆ·å‹å¥½çš„æ–¹å¼åé¦ˆé”™è¯¯ä¿¡æ¯ã€‚

#### 11.6 ultralytics\data\utils.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import os
import hashlib
from pathlib import Path
from PIL import Image, ImageOps
import numpy as np

IMG_FORMATS = "bmp", "jpeg", "jpg", "png", "tif", "tiff"  # æ”¯æŒçš„å›¾åƒæ ¼å¼

def img2label_paths(img_paths):
    """æ ¹æ®å›¾åƒè·¯å¾„å®šä¹‰æ ‡ç­¾è·¯å¾„ã€‚"""
    sa, sb = f"{os.sep}images{os.sep}", f"{os.sep}labels{os.sep}"  # å›¾åƒå’Œæ ‡ç­¾çš„å­å­—ç¬¦ä¸²
    return [sb.join(x.rsplit(sa, 1)).rsplit(".", 1)[0] + ".txt" for x in img_paths]

def get_hash(paths):
    """è¿”å›ä¸€ç»„è·¯å¾„ï¼ˆæ–‡ä»¶æˆ–ç›®å½•ï¼‰çš„å•ä¸€å“ˆå¸Œå€¼ã€‚"""
    size = sum(os.path.getsize(p) for p in paths if os.path.exists(p))  # è®¡ç®—è·¯å¾„çš„æ€»å¤§å°
    h = hashlib.sha256(str(size).encode())  # ä½¿ç”¨SHA-256ç®—æ³•å¯¹å¤§å°è¿›è¡Œå“ˆå¸Œ
    h.update("".join(paths).encode())  # å¯¹è·¯å¾„è¿›è¡Œå“ˆå¸Œ
    return h.hexdigest()  # è¿”å›å“ˆå¸Œå€¼

def exif_size(img: Image.Image):
    """è¿”å›ç»è¿‡EXIFæ ¡æ­£çš„PILå›¾åƒå¤§å°ã€‚"""
    s = img.size  # è·å–å›¾åƒçš„å®½é«˜
    if img.format == "JPEG":  # ä»…æ”¯æŒJPEGæ ¼å¼çš„å›¾åƒ
        exif = img.getexif()  # è·å–EXIFä¿¡æ¯
        if exif:
            rotation = exif.get(274, None)  # è·å–æ—‹è½¬ä¿¡æ¯
            if rotation in [6, 8]:  # å¦‚æœå›¾åƒéœ€è¦æ—‹è½¬
                s = s[1], s[0]  # äº¤æ¢å®½é«˜
    return s

def verify_image(im_file):
    """éªŒè¯å•ä¸ªå›¾åƒçš„æœ‰æ•ˆæ€§ã€‚"""
    nf, nc, msg = 0, 0, ""  # åˆå§‹åŒ–æ‰¾åˆ°å’ŒæŸåçš„å›¾åƒè®¡æ•°
    try:
        im = Image.open(im_file)  # æ‰“å¼€å›¾åƒæ–‡ä»¶
        im.verify()  # éªŒè¯å›¾åƒ
        shape = exif_size(im)  # è·å–å›¾åƒå¤§å°
        assert (shape[0] > 9) & (shape[1] > 9), f"å›¾åƒå¤§å° {shape} å°äº10åƒç´ "  # ç¡®ä¿å›¾åƒå¤§å°æœ‰æ•ˆ
        assert im.format.lower() in IMG_FORMATS, f"æ— æ•ˆçš„å›¾åƒæ ¼å¼ {im.format}"  # ç¡®ä¿å›¾åƒæ ¼å¼æœ‰æ•ˆ
        nf = 1  # æ ‡è®°å›¾åƒå·²æ‰¾åˆ°
    except Exception as e:
        nc = 1  # æ ‡è®°å›¾åƒæŸå
        msg = f"å¿½ç•¥æŸåçš„å›¾åƒ: {e}"  # é”™è¯¯ä¿¡æ¯
    return nf, nc, msg  # è¿”å›æ‰¾åˆ°å’ŒæŸåçš„å›¾åƒè®¡æ•°åŠæ¶ˆæ¯

def verify_image_label(im_file, lb_file):
    """éªŒè¯å›¾åƒå’Œæ ‡ç­¾çš„é…å¯¹æœ‰æ•ˆæ€§ã€‚"""
    nf, nc, msg = 0, 0, ""  # åˆå§‹åŒ–æ‰¾åˆ°å’ŒæŸåçš„è®¡æ•°
    try:
        # éªŒè¯å›¾åƒ
        im = Image.open(im_file)
        im.verify()
        shape = exif_size(im)
        assert (shape[0] > 9) & (shape[1] > 9), f"å›¾åƒå¤§å° {shape} å°äº10åƒç´ "
        assert im.format.lower() in IMG_FORMATS, f"æ— æ•ˆçš„å›¾åƒæ ¼å¼ {im.format}"
        nf = 1  # å›¾åƒæ‰¾åˆ°

        # éªŒè¯æ ‡ç­¾
        if os.path.isfile(lb_file):
            nf = 1  # æ ‡ç­¾æ‰¾åˆ°
            with open(lb_file) as f:
                lb = [x.split() for x in f.read().strip().splitlines() if len(x)]
                lb = np.array(lb, dtype=np.float32)  # è½¬æ¢ä¸ºnumpyæ•°ç»„
            nl = len(lb)
            if nl:
                assert lb.shape[1] == 5, f"æ ‡ç­¾éœ€è¦5åˆ—, æ£€æµ‹åˆ° {lb.shape[1]} åˆ—"  # ç¡®ä¿æ ‡ç­¾æ ¼å¼æœ‰æ•ˆ
                assert lb.min() >= 0, f"æ ‡ç­¾å€¼ä¸èƒ½ä¸ºè´Ÿ {lb[lb < 0]}"  # ç¡®ä¿æ ‡ç­¾å€¼æœ‰æ•ˆ
        else:
            msg = "æ ‡ç­¾ç¼ºå¤±"  # æ ‡ç­¾æ–‡ä»¶ä¸å­˜åœ¨
            nf = 0  # æ ‡ç­¾æœªæ‰¾åˆ°
    except Exception as e:
        nc = 1  # æ ‡è®°æŸå
        msg = f"å¿½ç•¥æŸåçš„å›¾åƒ/æ ‡ç­¾: {e}"  # é”™è¯¯ä¿¡æ¯
    return nf, nc, msg  # è¿”å›æ‰¾åˆ°å’ŒæŸåçš„è®¡æ•°åŠæ¶ˆæ¯
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼šå¯¼å…¥å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ“ä½œã€å“ˆå¸Œè®¡ç®—ã€å›¾åƒå¤„ç†ç­‰ã€‚
2. **å›¾åƒä¸æ ‡ç­¾è·¯å¾„å¤„ç†**ï¼š`img2label_paths`å‡½æ•°ç”¨äºæ ¹æ®å›¾åƒè·¯å¾„ç”Ÿæˆå¯¹åº”çš„æ ‡ç­¾è·¯å¾„ã€‚
3. **å“ˆå¸Œè®¡ç®—**ï¼š`get_hash`å‡½æ•°ç”¨äºè®¡ç®—ç»™å®šè·¯å¾„åˆ—è¡¨çš„å“ˆå¸Œå€¼ï¼Œç¡®ä¿æ–‡ä»¶çš„ä¸€è‡´æ€§ã€‚
4. **EXIFä¿¡æ¯å¤„ç†**ï¼š`exif_size`å‡½æ•°ç”¨äºè·å–å›¾åƒçš„å®é™…å°ºå¯¸ï¼Œè€ƒè™‘åˆ°EXIFä¿¡æ¯ä¸­çš„æ—‹è½¬ä¿¡æ¯ã€‚
5. **å›¾åƒéªŒè¯**ï¼š`verify_image`å’Œ`verify_image_label`å‡½æ•°ç”¨äºéªŒè¯å›¾åƒå’Œæ ‡ç­¾çš„æœ‰æ•ˆæ€§ï¼Œç¡®ä¿å®ƒä»¬çš„æ ¼å¼å’Œå†…å®¹ç¬¦åˆè¦æ±‚ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `ultralytics\data\utils.py` æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†æ•°æ®é›†çš„å·¥å…·æ¨¡å—ï¼Œä¸»è¦ç”¨äºä¸ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹ç›¸å…³çš„å›¾åƒå’Œæ ‡ç­¾æ•°æ®çš„ç®¡ç†å’ŒéªŒè¯ã€‚æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªå‡½æ•°å’Œç±»ï¼Œä»¥ä¸‹æ˜¯å¯¹å…¶ä¸»è¦åŠŸèƒ½çš„è¯¦ç»†è¯´æ˜ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€ç³»åˆ—å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬æ–‡ä»¶å’Œè·¯å¾„å¤„ç†ã€å›¾åƒå¤„ç†ã€æ•°æ®ä¸‹è½½å’Œå¤šçº¿ç¨‹å¤„ç†ç­‰ã€‚å®šä¹‰äº†ä¸€äº›å¸¸é‡ï¼Œå¦‚æ”¯æŒçš„å›¾åƒå’Œè§†é¢‘æ ¼å¼ï¼Œä»¥åŠå…¨å±€çš„å†…å­˜å›ºå®šè®¾ç½®ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€äº›è¾…åŠ©å‡½æ•°ã€‚`img2label_paths` å‡½æ•°ç”¨äºæ ¹æ®å›¾åƒè·¯å¾„ç”Ÿæˆå¯¹åº”çš„æ ‡ç­¾è·¯å¾„ã€‚`get_hash` å‡½æ•°è®¡ç®—ç»™å®šè·¯å¾„åˆ—è¡¨çš„å“ˆå¸Œå€¼ï¼Œä»¥ä¾¿äºæ•°æ®å®Œæ•´æ€§æ£€æŸ¥ã€‚`exif_size` å‡½æ•°ç”¨äºè·å–å›¾åƒçš„ EXIF ä¿®æ­£åçš„å°ºå¯¸ï¼Œä¸»è¦é’ˆå¯¹ JPEG æ ¼å¼çš„å›¾åƒã€‚

`verify_image` å’Œ `verify_image_label` å‡½æ•°ç”¨äºéªŒè¯å•ä¸ªå›¾åƒåŠå…¶å¯¹åº”æ ‡ç­¾çš„æœ‰æ•ˆæ€§ã€‚è¿™äº›å‡½æ•°ä¼šæ£€æŸ¥å›¾åƒæ˜¯å¦æŸåã€æ ¼å¼æ˜¯å¦æ­£ç¡®ã€å°ºå¯¸æ˜¯å¦åˆè§„ç­‰ï¼Œå¹¶è¿”å›ç›¸åº”çš„éªŒè¯ç»“æœå’Œè­¦å‘Šä¿¡æ¯ã€‚

`polygon2mask` å’Œ `polygons2masks` å‡½æ•°ç”¨äºå°†å¤šè¾¹å½¢è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ©ç ï¼Œé€‚ç”¨äºå›¾åƒåˆ†å‰²ä»»åŠ¡ã€‚`find_dataset_yaml` å‡½æ•°ç”¨äºåœ¨æŒ‡å®šè·¯å¾„ä¸‹æŸ¥æ‰¾æ•°æ®é›†çš„ YAML æ–‡ä»¶ï¼Œç¡®ä¿æ•°æ®é›†æ ¼å¼çš„æ­£ç¡®æ€§ã€‚

`check_det_dataset` å’Œ `check_cls_dataset` å‡½æ•°ç”¨äºæ£€æŸ¥ç›®æ ‡æ£€æµ‹å’Œåˆ†ç±»æ•°æ®é›†çš„å®Œæ•´æ€§ï¼Œæ”¯æŒè‡ªåŠ¨ä¸‹è½½ç¼ºå¤±çš„æ•°æ®é›†ã€‚å®ƒä»¬ä¼šè§£æ YAML æ–‡ä»¶ï¼Œæ£€æŸ¥å¿…è¦çš„é”®æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ç¡®ä¿è·¯å¾„çš„æ­£ç¡®æ€§ã€‚

`HUBDatasetStats` ç±»ç”¨äºç”Ÿæˆä¸ Ultralytics HUB å…¼å®¹çš„æ•°æ®é›† JSON æ–‡ä»¶å’Œç›®å½•ã€‚å®ƒæ”¯æŒå¯¹æ•°æ®é›†è¿›è¡Œç»Ÿè®¡åˆ†æï¼ŒåŒ…æ‹¬å›¾åƒæ•°é‡ã€ç±»åˆ«åˆ†å¸ƒç­‰ï¼Œå¹¶å¯ä»¥å°†ç»“æœä¿å­˜ä¸º JSON æ ¼å¼ã€‚

`compress_one_image` å‡½æ•°ç”¨äºå‹ç¼©å•ä¸ªå›¾åƒæ–‡ä»¶ï¼Œä»¥å‡å°æ–‡ä»¶å¤§å°ï¼ŒåŒæ—¶ä¿æŒå…¶çºµæ¨ªæ¯”å’Œè´¨é‡ã€‚`autosplit` å‡½æ•°ç”¨äºè‡ªåŠ¨å°†æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒã€éªŒè¯å’Œæµ‹è¯•é›†ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ¨¡å—æä¾›äº†ä¸€ç³»åˆ—å®ç”¨çš„å·¥å…·å’Œå‡½æ•°ï¼Œæ—¨åœ¨ç®€åŒ–æ•°æ®é›†çš„ç®¡ç†ã€éªŒè¯å’Œå¤„ç†ï¼Œç¡®ä¿æ•°æ®é›†çš„æ ¼å¼å’Œå†…å®¹ç¬¦åˆ YOLO æ¨¡å‹çš„è¦æ±‚ã€‚è¿™äº›åŠŸèƒ½å¯¹äºæ·±åº¦å­¦ä¹ é¡¹ç›®ä¸­çš„æ•°æ®é¢„å¤„ç†å’Œæ•°æ®é›†ç®¡ç†è‡³å…³é‡è¦ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

Ultralytics YOLO é¡¹ç›®æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›é«˜æ•ˆã€æ˜“ç”¨çš„å·¥å…·æ¥è®­ç»ƒå’Œéƒ¨ç½² YOLO æ¨¡å‹ã€‚é¡¹ç›®çš„æ•´ä½“æ¶æ„åŒ…æ‹¬å¤šä¸ªæ¨¡å—å’Œæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œæ¶µç›–ä»æ•°æ®å¤„ç†ã€æ¨¡å‹éªŒè¯ã€ç”¨æˆ·ç•Œé¢åˆ°é”™è¯¯å¤„ç†ç­‰å¤šä¸ªæ–¹é¢ã€‚

- **æ ¸å¿ƒåŠŸèƒ½**ï¼šæä¾›ç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²çš„è®­ç»ƒã€éªŒè¯å’Œæ¨ç†åŠŸèƒ½ã€‚
- **æ•°æ®å¤„ç†**ï¼šåŒ…æ‹¬æ•°æ®é›†çš„ç®¡ç†ã€éªŒè¯å’Œé¢„å¤„ç†ï¼Œç¡®ä¿æ•°æ®æ ¼å¼ç¬¦åˆæ¨¡å‹è¦æ±‚ã€‚
- **æ¨¡å‹éªŒè¯**ï¼šæä¾›éªŒè¯å·¥å…·ï¼Œä»¥è¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚
- **ç”¨æˆ·ç•Œé¢**ï¼šé€šè¿‡ Streamlit æä¾›ç®€å•çš„ç”¨æˆ·ç•Œé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·äº¤äº’ã€‚
- **é”™è¯¯å¤„ç†**ï¼šè‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œç”¨äºå¤„ç†æ¨¡å‹è·å–è¿‡ç¨‹ä¸­çš„é”™è¯¯ã€‚
- **è·Ÿè¸ªå’Œè®¡æ•°**ï¼šå®ç°å¯¹è±¡è·Ÿè¸ªå’Œè®¡æ•°çš„åŠŸèƒ½ï¼Œé€‚ç”¨äºå®æ—¶è§†é¢‘åˆ†æã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                      | åŠŸèƒ½æè¿°                                                         |
|-------------------------------------------|--------------------------------------------------------------|
| `ultralytics/engine/__init__.py`        | å°†ç›®å½•æ ‡è¯†ä¸º Python åŒ…ï¼Œç¡®ä¿åŒ…çš„æ­£ç¡®å¯¼å…¥å’Œä½¿ç”¨ã€‚                       |
| `ultralytics/models/fastsam/val.py`     | å®šä¹‰ `FastSAMValidator` ç±»ï¼Œç”¨äºå¿«é€Ÿ SAM åˆ†å‰²çš„éªŒè¯è¿‡ç¨‹ã€‚               |
| `ui.py`                                   | å¯åŠ¨ Streamlit Web åº”ç”¨ï¼Œè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ä»¥æä¾›ç”¨æˆ·ç•Œé¢ã€‚                 |
| `ultralytics/solutions/object_counter.py`| å®šä¹‰ `ObjectCounter` ç±»ï¼Œç”¨äºå®æ—¶è§†é¢‘æµä¸­çš„ç‰©ä½“è®¡æ•°å’Œè½¨è¿¹ç›‘æµ‹ã€‚          |
| `ultralytics/utils/errors.py`            | å®šä¹‰ `HUBModelError` è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œç”¨äºå¤„ç†æ¨¡å‹è·å–ç›¸å…³çš„é”™è¯¯ã€‚          |
| `ultralytics/data/utils.py`              | æä¾›æ•°æ®é›†ç®¡ç†å’ŒéªŒè¯çš„å·¥å…·å‡½æ•°ï¼ŒåŒ…æ‹¬å›¾åƒå’Œæ ‡ç­¾çš„éªŒè¯ã€æ•°æ®é›†ç»Ÿè®¡ç­‰ã€‚      |
| `ultralytics/utils/ops.py`               | æä¾›å›¾åƒå¤„ç†å’Œæ“ä½œçš„å·¥å…·å‡½æ•°ï¼Œæ”¯æŒå„ç§å›¾åƒå˜æ¢å’Œå¢å¼ºåŠŸèƒ½ã€‚               |
| `ultralytics/utils/callbacks/wb.py`     | å®šä¹‰ä¸ Weights & Biases ç›¸å…³çš„å›è°ƒå‡½æ•°ï¼Œç”¨äºæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„ç›‘æ§å’Œè®°å½•ã€‚ |
| `ultralytics/utils/callbacks/comet.py`   | å®šä¹‰ä¸ Comet.ml ç›¸å…³çš„å›è°ƒå‡½æ•°ï¼Œç”¨äºæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„ç›‘æ§å’Œè®°å½•ã€‚        |
| `ultralytics/data/build.py`              | æ„å»ºæ•°æ®é›†çš„å·¥å…·ï¼Œæ”¯æŒæ•°æ®é›†çš„åˆ›å»ºå’Œæ ¼å¼åŒ–ã€‚                           |
| `ultralytics/models/utils/ops.py`       | æä¾›ä¸æ¨¡å‹ç›¸å…³çš„æ“ä½œå’Œå¤„ç†å‡½æ•°ï¼Œæ”¯æŒæ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†ã€‚                  |
| `train.py`                               | ä¸»è®­ç»ƒè„šæœ¬ï¼Œè´Ÿè´£å¯åŠ¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ï¼Œç®¡ç†è®­ç»ƒå‚æ•°å’Œæ•°æ®é›†ã€‚                |
| `ultralytics/trackers/utils/kalman_filter.py` | å®ç°å¡å°”æ›¼æ»¤æ³¢å™¨ï¼Œç”¨äºç›®æ ‡è·Ÿè¸ªå’ŒçŠ¶æ€ä¼°è®¡ã€‚                             |

ä»¥ä¸Šè¡¨æ ¼æ€»ç»“äº†æ¯ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå±•ç¤ºäº† Ultralytics YOLO é¡¹ç›®çš„æ¨¡å—åŒ–è®¾è®¡å’Œå„ä¸ªç»„ä»¶ä¹‹é—´çš„åä½œå…³ç³»ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)

https://mbd.pub/o/bread/ZpqZmZ1u